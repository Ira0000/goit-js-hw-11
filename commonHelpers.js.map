{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchBtn = document.querySelector('.search-btn');\nconst searchField = document.querySelector('.search-input');\nconst imgList = document.querySelector('.img-list');\nconst photoesContainer = document.querySelector('.img-section');\n\nconst fetchImagesBtn = searchBtn.addEventListener('click', () => {\n  fetchImages()\n    .then(photos => {\n      renderPhotoes(photos);\n      //   console.log('Success!', photos.hits);\n    })\n    .catch(error => {\n      console.log('This error');\n      console.log(error);\n    });\n});\n\nfunction fetchImages() {\n  let searchValue = searchField.value;\n  //   console.log(searchValue);\n\n  const searchParams = new URLSearchParams({\n    key: '45153931-2470322a6efc3ba9ceddb2cb4',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    q: searchValue,\n  });\n  const downloadStatus = '<div class=\"loader\"></div>';\n  photoesContainer.insertAdjacentHTML('afterbegin', downloadStatus);\n  let url = `https://pixabay.com/api/?${searchParams}`;\n  //   console.log(url);\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction renderPhotoes(photos) {\n  imgList.innerHTML = '';\n  const loader = document.querySelector('.loader');\n\n  if (photos.total === 0 || searchField.value === '') {\n    imgList.innerHTML = '';\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n      backgroundColor: '#EF4040',\n      messageColor: '#fff',\n      iconColor: '#fff',\n      icon: 'fa-regular fa-circle-xmark',\n      progressBarColor: '#B51B1B',\n      maxWidth: 432,\n      messageSize: '16',\n    });\n\n    loader.remove();\n  } else {\n    const markup = photos.hits\n      .map(photo => {\n        return `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${photo.largeImageURL}\">\n            <img\n            class=\"gallery-img\"\n            src=\"${photo.webformatURL}\"\n            data-source=\"${photo.largeImageURL}\"\n            alt=\"${photo.tags}\">\n            </a>\n            <div class=\"img-description\">\n              <p class=\"description-text\">Likes <span class=\"description-value\"> ${photo.likes}</span></p>\n              <p class=\"description-text\">Views <span class=\"description-value\"> ${photo.views}</span></p>\n              <p class=\"description-text\">Comments <span class=\"description-value\"> ${photo.comments}</span></p>\n              <p class=\"description-text\">Downloads <span class=\"description-value\"> ${photo.downloads}</span></p>\n            </div>\n              </li>`;\n      })\n      .join('');\n    // console.log(markup);\n    imgList.insertAdjacentHTML('afterbegin', markup);\n\n    loader.remove();\n\n    let gallery = new SimpleLightbox('.img-list a', {\n      captions: true,\n      captionSelector: 'img',\n      captionType: 'attr',\n      captionsData: 'alt',\n      captionPosition: 'bottom',\n      captionDelay: 250,\n    });\n    gallery.on('show.simplelightbox', function () {});\n  }\n}\n"],"names":["searchBtn","searchField","imgList","photoesContainer","fetchImages","photos","renderPhotoes","error","searchValue","searchParams","downloadStatus","url","response","loader","iziToast","markup","photo","SimpleLightbox"],"mappings":"6vBAMA,MAAMA,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAmB,SAAS,cAAc,cAAc,EAEvCH,EAAU,iBAAiB,QAAS,IAAM,CAC/DI,EAAa,EACV,KAAKC,GAAU,CACdC,EAAcD,CAAM,CAE1B,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,IAAI,YAAY,EACxB,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CAAC,EAED,SAASH,GAAc,CACrB,IAAII,EAAcP,EAAY,MAG9B,MAAMQ,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,EAAGD,CACP,CAAG,EACKE,EAAiB,6BACvBP,EAAiB,mBAAmB,aAAcO,CAAc,EAChE,IAAIC,EAAM,4BAA4BF,CAAY,GAGlD,OAAO,MAAME,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,SAASN,EAAcD,EAAQ,CAC7BH,EAAQ,UAAY,GACpB,MAAMW,EAAS,SAAS,cAAc,SAAS,EAE/C,GAAIR,EAAO,QAAU,GAAKJ,EAAY,QAAU,GAC9CC,EAAQ,UAAY,GACpBY,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,gBAAiB,UACjB,aAAc,OACd,UAAW,OACX,KAAM,6BACN,iBAAkB,UAClB,SAAU,IACV,YAAa,IACnB,CAAK,EAEDD,EAAO,OAAM,MACR,CACL,MAAME,EAASV,EAAO,KACnB,IAAIW,GACI;AAAA,4CAC6BA,EAAM,aAAa;AAAA;AAAA;AAAA,mBAG5CA,EAAM,YAAY;AAAA,2BACVA,EAAM,aAAa;AAAA,mBAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA,mFAGsDA,EAAM,KAAK;AAAA,mFACXA,EAAM,KAAK;AAAA,sFACRA,EAAM,QAAQ;AAAA,uFACbA,EAAM,SAAS;AAAA;AAAA,oBAG/F,EACA,KAAK,EAAE,EAEVd,EAAQ,mBAAmB,aAAca,CAAM,EAE/CF,EAAO,OAAM,EAEC,IAAII,EAAe,cAAe,CAC9C,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,GACpB,CAAK,EACO,GAAG,sBAAuB,UAAY,CAAE,CAAA,CACjD,CACH"}